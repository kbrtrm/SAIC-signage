<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>SAIC Signage Mockup</title>

  <link rel="stylesheet" href="css/build/minified/global.css">
</head>

<body>

  <div class="now">
    <h1 class="now-time">Now</h1>
    <h2 id="currentTemp"></h2>
    <h2 id="condish"></h2>
    <br>
    <i class=""></i>
  </div>




  <script src="js/build/production.min.js"></script>
  <script src="js/libs/forecast.io.js"></script>

  <script>
  $(document).ready(function(){
    $('.now-time').html(moment().format('h:mm A'));
    function update() {
      $('.now-time').html(moment().format('h:mm A'));
    }

    setInterval(update, 1000);



        var latitude = '41.8801994';
        var longitude = '-87.6272505';


  var forecast = new ForecastIO();


  /*
   * GET CURRENT CONDITIONS
   */
  var condition = forecast.getCurrentConditions(latitude, longitude);
  console.log(condition);

  // echo temperature
  document.getElementById("currentTemp").innerHTML = condition.getTemperature().toFixed(0);

  // display icon (forecast.io => weather-icons)
  var conditionDesc = condition.getIcon();
  var conditionTrans = {
    'partly-cloudy-day': 'wi wi-day-cloudy'
  }

  // look at the conditionTrans object for translation from forecast to wi
  function translateCondition(current) {
    if (current in conditionTrans) {
      return conditionTrans[current];
    } else {
      return current;
    }
  }

  // add proper wi class to i
  $('i').addClass(translateCondition(conditionDesc));

  document.getElementById("condish").innerHTML = conditionDesc;
  });
  </script>

</body>

</html>
