<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>SAIC Signage Mockup</title>

  <link rel="stylesheet" href="css/build/minified/global.css">
</head>

<body>

  <div class="now">
    <div class="time-weather-con">
      <div class="weather-con">
        <!-- <h2 id="condish"></h2> -->
        <i class="currentCon"></i>
        <h2 id="currentTemp"></h2>
      </div> 
      <div class="time-con">
        <h1 class="now-date"></h1>
        <h1 class="now-time"></h1>
      </div> 
    </div>
  </div>
  <div class="upcoming-events">
    <div class="top">
      
    </div>
    <div class="main">
      
    </div>
  </div>

  <script src="js/build/production.min.js"></script>
  <script src="js/forecast.io.js"></script>

  <script>
  $(document).ready(function(){
    $('.now-time').html(moment().format('h:mm'));
    $('.now-date').html(moment().format('MMMM d'));
    function update() {
      $('.now-time').html(moment().format('h:mm'));
      if (moment().format('h') < 10) {
        $('.time-con').removeClass('time-con-padded');
      } else if (moment().format('h') >= 10) {
        $('.time-con').addClass('time-con-padded');
      }
    }

    setInterval(update, 1000);

        var latitude = '41.8801994';
        var longitude = '-87.6272505';

  var forecast = new ForecastIO();

  /*
   * GET CURRENT CONDITIONS
   */
  var condition = forecast.getCurrentConditions(latitude, longitude);

  // echo temperature
  $("#currentTemp").html(condition.getTemperature().toFixed(0));

  // get forecast.io icon info
  var conditionDesc = condition.getIcon();

  // itty bitty library for forecast.io => weathericons
  var conditionTrans = {
    'partly-cloudy-day': 'wi wi-day-cloudy',
    'clear-day': 'wi wi-day-sunny',
    'clear-night': 'wi wi-night-clear',
    'rain': 'wi wi-rain',
    'snow': 'wi wi-snow',
    'sleet': 'wi wi-rain-mix',
    'wind': 'wi wi-windy',
    'fog': 'wi wi-fog',
    'cloudy': 'wi wi-cloudy',
    'partly-cloudy-night': 'wi wi-night-cloudy'
  }

  // look at the conditionTrans object for translation from forecast to weathericons
  function translateCondition(current) {
    if (current in conditionTrans) {
      return conditionTrans[current];
    } else {
      return 'fa fa-smile-o';
    }
  }

  // add proper wi class to i
  $('i.currentCon').addClass(translateCondition(conditionDesc));

  // display text description of current conditions
  $("#condish").html(conditionDesc);
  });

  </script>

</body>

</html>
